(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2427dc6c"],{"0eb2":function(t,e,s){},1722:function(t,e,s){},2155:function(t,e,s){},"24f0":function(t,e,s){},"2a6d":function(t,e,s){"use strict";s("0eb2")},3010:function(t,e,s){"use strict";s("77d5")},"440d":function(t,e,s){"use strict";s("b0a5")},"5c28":function(t,e,s){"use strict";s.r(e);var n=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("section",{attrs:{id:"home"}},[s("head-bar",[s("p",{attrs:{slot:"middle"},slot:"middle"},[t._v("购物街")])]),s("back-top",{directives:[{name:"show",rawName:"v-show",value:t.isShowBackTop,expression:"isShowBackTop"}],nativeOn:{click:function(e){return t.backTopClick(e)}}}),s("tab-ctrl",{directives:[{name:"show",rawName:"v-show",value:t.showFixedTabCtrl,expression:"showFixedTabCtrl"}],staticClass:"fixedTabCtrl",attrs:{list:t.goodsNameList},model:{value:t.goodsObjIndex,callback:function(e){t.goodsObjIndex=e},expression:"goodsObjIndex"}}),s("scroll",{ref:"scroll",attrs:{"probe-type":3,"pull-up-load":!0},on:{position:t.scrollPosition,pullingUp:t.scrollPullUp}},[s("home-swiper",{attrs:{list:t.banners},on:{homeSwiperImgLoad:t.homeSwiperImgOnLoad}}),s("home-recommend-list",{attrs:{list:t.recommends}}),s("home-production"),s("tab-ctrl",{ref:"tabCtrl",attrs:{list:t.goodsNameList},model:{value:t.goodsObjIndex,callback:function(e){t.goodsObjIndex=e},expression:"goodsObjIndex"}}),s("goods-list",{attrs:{list:t.selectedGoodsList}})],1)],1)},o=[],i=s("2909"),a=(s("d81d"),s("b64b"),s("b0c0"),s("ef39")),r=s("f87b"),c=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("swiper-container",{key:t.list.length,attrs:{showNavigation:!1,autoplay:!0}},t._l(t.list,(function(e){return s("swiper-slide",{key:e.acm},[s("a",{attrs:{href:e.link}},[s("img",{attrs:{src:e.image},on:{load:t.homeSwiperImgLoad}})])])})),1)},l=[],d=s("aca4"),u={name:"HomeSwiper",data:function(){return{isImgLoad:!1}},props:{list:{type:Array,default:function(){return[]}}},methods:{homeSwiperImgLoad:function(){this.isImgLoad||(this.$emit("homeSwiperImgLoad"),this.isImgLoad=!0)}},components:{SwiperContainer:d["a"],SwiperSlide:d["b"]}},m=u,f=(s("a137"),s("2877")),p=Object(f["a"])(m,c,l,!1,null,"6612c87c",null),h=p.exports,b=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{key:t.list.length,staticClass:"homeRecommendList"},[s("ul",t._l(t.list,(function(e){return s("li",{key:e.acm},[s("a",{attrs:{href:e.link,title:e.title}},[s("img",{attrs:{src:e.image,alt:"lostPic"}}),s("p",[t._v(t._s(e.title))])])])})),0)])},g=[],v={name:"HomeRecommendList",props:{list:{type:Array,default:function(){return[]}}}},O=v,x=(s("edfb"),Object(f["a"])(O,b,g,!1,null,"185d2b8f",null)),L=x.exports,I=function(){var t=this,e=t.$createElement;t._self._c;return t._m(0)},w=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"homeProduction"},[n("a",{attrs:{href:"https://act.mogujie.com/zzlx67"}},[n("img",{attrs:{src:s("5cbe"),alt:"pic"}})])])}],_={name:"Production"},j=_,$=(s("3010"),Object(f["a"])(j,I,w,!1,null,"0742a9dc",null)),C=$.exports,k=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"tabCtrl"},t._l(t.list,(function(e){return s("div",{key:e.index,staticClass:"item",class:{active:t.isActive(e.index)},on:{click:function(s){return t.echoInput(e.index)}}},[s("span",[t._v(t._s(e.name))])])})),0)},y=[],T=s("aff8"),S={name:"TabCtrl",props:{list:{type:Array,default:function(){return[]}}},mixins:[T["c"]]},D=S,P=(s("2a6d"),Object(f["a"])(D,k,y,!1,null,"1a65f45c",null)),Y=P.exports,A=function(){var t=this,e=t.$createElement,s=t._self._c||e;return 0!=Object.keys(t.list).length?s("div",{staticClass:"goodsList"},[s("ul",t._l(t.list,(function(t){return s("goods-item",{key:t.id,attrs:{info:t}})})),1)]):t._e()},E=[],H=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("li",[s("a",{attrs:{href:t.info.html_url},on:{click:function(e){return e.preventDefault(),t.itemClick(e)}}},[s("img",{attrs:{src:t.info.avatar_url},on:{load:t.imgOnLoad}}),s("div",{staticClass:"ttl"},[s("p",[s("span",[t._v(t._s(t.info.id))]),s("span",[t._v(t._s(t.info.login))])]),s("p",[t._v(t._s(t.info.node_id))])])])])},B=[],F=(s("d3b7"),s("25f0"),{name:"GoodsItem",props:{info:{type:Object,default:function(){return{}}}},methods:{itemClick:function(){this.$router.push({name:"detail",params:{login:this.info.login.toString()}})},imgOnLoad:function(){this.$bus.$emit("itemImgOnLoad")}}}),G=F,N=(s("440d"),Object(f["a"])(G,H,B,!1,null,"5513afea",null)),R=N.exports,U={name:"GoodList",props:{list:{type:Array,default:function(){return[]}}},components:{GoodsItem:R}},z=U,J=(s("837f"),Object(f["a"])(z,A,E,!1,null,"1f0869d9",null)),q=J.exports,K=s("90b9"),M=s("916b"),Q=Object(M["a"])({baseURL:"http://123.207.32.32:8000/",headers:{Accept:"application/json"},responseType:"json",timeout:3e3});function V(){return Q({url:"/home/multidata"})}var W=s("c236"),X={name:"Home",data:function(){return{banners:[],recommends:[],goods:{pop:{name:"流行",pageIndex:0,list:[],positionY:0},new:{name:"新款",pageIndex:0,list:[],positionY:0},sell:{name:"精选",pageIndex:0,list:[],positionY:0}},goodsObjIndex:"pop",tabCtrlOffsetTop:0,showFixedTabCtrl:!1,saveY:0,itemImgOnLoadListener:null}},computed:{goodsNameList:function(){var t=this;return Object.keys(this.goods).map((function(e){return{index:e,name:t.goods[e].name}}))},selectedGoodsList:function(){return this.goods[this.goodsObjIndex].list}},methods:{homeSwiperImgOnLoad:function(){this.tabCtrlOffsetTop=this.$refs.tabCtrl.$el.offsetTop},scrollPosition:function(t){this.showFixedTabCtrl=t.y<=-(this.tabCtrlOffsetTop-44),this.isShowBackTop=t.y<-this.tabCtrlOffsetTop,this.goods[this.goodsObjIndex].positionY=this.showFixedTabCtrl?t.y:0},scrollPullUp:function(){this.getData(this.goodsObjIndex)},getBannersAndRecommendsData:function(){var t=this;V().then((function(e){t.banners=e.data.data.banner.list,t.recommends=e.data.data.recommend.list})).catch((function(t){console.log(t)}))},getData:function(t){var e=this;Object(W["a"])(t,this.goods[t].pageIndex+1).then((function(s){var n;(n=e.goods[t].list).push.apply(n,Object(i["a"])(s.data.items)),e.goods[t].pageIndex+=1,e.$refs.scroll.finishPullUp()})).catch((function(t){console.log(t)}))}},watch:{goodsObjIndex:function(t){if(this.showFixedTabCtrl){var e=0==this.goods[t].positionY?-(this.tabCtrlOffsetTop-44):this.goods[t].positionY;this.$refs.scroll.scrollTo(0,e,0)}}},created:function(){this.getBannersAndRecommendsData(),this.getData("pop"),this.getData("new"),this.getData("sell")},mounted:function(){var t=this,e=Object(K["b"])(this.$refs.scroll.refresh);this.itemImgOnLoadListener=function(){t.$refs.scroll&&e()},this.$bus.$on("itemImgOnLoad",this.itemImgOnLoadListener)},beforeDestroy:function(){this.$bus.$off("itemImgOnLoad",this.itemImgOnLoadListener)},activated:function(){this.$refs.scroll.refresh(),this.$refs.scroll.scrollTo(0,this.saveY,0),this.$bus.$on("itemImgOnLoad",this.itemImgOnLoadListener)},deactivated:function(){this.saveY=this.$refs.scroll.y(),this.$bus.$off("itemImgOnLoad",this.itemImgOnLoadListener)},components:{Scroll:a["a"],HeadBar:r["a"],HomeSwiper:h,HomeRecommendList:L,HomeProduction:C,TabCtrl:Y,GoodsList:q},mixins:[T["a"]]},Z=X,tt=(s("ca2a"),Object(f["a"])(Z,n,o,!1,null,"6de6ec0d",null));e["default"]=tt.exports},"5cbe":function(t,e,s){t.exports=s.p+"img/recommend_bg.794b6628.jpg"},"77d5":function(t,e,s){},"837f":function(t,e,s){"use strict";s("1722")},a137:function(t,e,s){"use strict";s("d862")},b0a5:function(t,e,s){},b64b:function(t,e,s){var n=s("23e7"),o=s("7b0b"),i=s("df75"),a=s("d039"),r=a((function(){i(1)}));n({target:"Object",stat:!0,forced:r},{keys:function(t){return i(o(t))}})},ca2a:function(t,e,s){"use strict";s("2155")},d862:function(t,e,s){},edfb:function(t,e,s){"use strict";s("24f0")}}]);
//# sourceMappingURL=chunk-2427dc6c.07d0d864.js.map