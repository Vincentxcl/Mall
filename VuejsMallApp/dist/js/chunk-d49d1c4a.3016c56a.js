(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-d49d1c4a"],{"187c":function(t,e,i){},"1f58":function(t,e,i){"use strict";i("187c")},3130:function(t,e,i){},3670:function(t,e,i){"use strict";i("5e1e")},"36db":function(t,e,i){},"39fb":function(t,e,i){"use strict";i("53f4")},4737:function(t,e,i){"use strict";i("dea7")},4917:function(t,e,i){},"4de4":function(t,e,i){"use strict";var s=i("23e7"),n=i("b727").filter,a=i("1dde"),l=a("filter");s({target:"Array",proto:!0,forced:!l},{filter:function(t){return n(this,t,arguments.length>1?arguments[1]:void 0)}})},"4f56":function(t,e,i){"use strict";i("36db")},"53f4":function(t,e,i){},"5e1e":function(t,e,i){},6119:function(t,e,i){"use strict";i("62a3")},"62a3":function(t,e,i){},"6b73":function(t,e,i){},"7a19":function(t,e,i){"use strict";i("8740")},"857a":function(t,e,i){var s=i("1d80"),n=i("577e"),a=/"/g;t.exports=function(t,e,i,l){var r=n(s(t)),o="<"+e;return""!==i&&(o+=" "+i+'="'+n(l).replace(a,"&quot;")+'"'),o+">"+r+"</"+e+">"}},8740:function(t,e,i){},"88dd":function(t,e,i){"use strict";i("3130")},"8d06":function(t,e,i){"use strict";i.r(e);var s=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("section",{attrs:{id:"detail"}},[i("detail-head-bar",{attrs:{list:t.list},on:{input:t.scrollTo},model:{value:t.detailTypeIndex,callback:function(e){t.detailTypeIndex=e},expression:"detailTypeIndex"}}),i("back-top",{directives:[{name:"show",rawName:"v-show",value:t.showBackTop,expression:"showBackTop"}],nativeOn:{click:function(e){return t.backTopClick(e)}}}),i("scroll",{ref:"scroll",attrs:{"probe-type":3},on:{position:t.scrollPosition}},[i("detail-swiper",{attrs:{list:t.images},on:{detailSwiperImgLoad:t.detailSwiperImgOnLoad}}),i("detail-title",{attrs:{item:t.detailTitle}}),i("detail-shop",{attrs:{item:t.detailShop}}),i("detail-imgs-list",{ref:"imgsList",attrs:{list:t.detailImgs}}),i("detail-params",{ref:"params"}),i("detail-comment",{ref:"comment"}),i("detail-recommendation",{ref:"recommendation"})],1),i("detail-bottom-bar",{on:{addCart:t.addCart}})],1)},n=[],a=i("2909"),l=(i("4de4"),i("d81d"),i("ef39")),r=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("head-bar",[i("i",{staticClass:"iconfont icon-31fanhui1",attrs:{slot:"left"},on:{click:t.goBack},slot:"left"}),i("template",{slot:"middle"},[i("ul",t._l(t.list,(function(e){return i("li",{key:e.index,class:{active:t.isActive(e.index)},on:{click:function(i){return t.echoInput(e.index)}}},[t._v(t._s(e.ttl))])})),0)])],2)},o=[],c=i("aff8"),d=i("f87b"),u={name:"DetailHeadBar",props:{list:{type:Array,default:function(){return[]}}},methods:{goBack:function(){this.$router.back()}},components:{HeadBar:d["a"]},mixins:[c["c"]]},f=u,m=(i("88dd"),i("2877")),h=Object(m["a"])(f,r,o,!1,null,"6c3deecb",null),p=h.exports,v=function(){var t=this,e=t.$createElement,i=t._self._c||e;return 0!=t.list.length?i("swiper-container",{attrs:{showNavigation:!1}},t._l(t.list,(function(e,s){return i("swiper-slide",{key:s},[i("img",{attrs:{src:e,alt:"pic"},on:{load:t.detailSwiperImgLoad}})])})),1):t._e()},_=[],g=i("aca4"),b={name:"DetailSwiper",data:function(){return{isImgLoad:!1}},props:{list:{type:Array,default:function(){return[]}}},methods:{detailSwiperImgLoad:function(){this.isImgLoad||(this.$emit("detailSwiperImgLoad"),this.isImgLoad=!0)}},components:{SwiperContainer:g["a"],SwiperSlide:g["b"]}},y=b,C=(i("4737"),Object(m["a"])(y,v,_,!1,null,"6fb7837c",null)),L=C.exports,w=function(){var t=this,e=t.$createElement,i=t._self._c||e;return 0!=Object.keys(t.item).length?i("div",{staticClass:"detailTitle"},[i("div",{staticClass:"ttl"},[i("strong",[t._v(t._s(t.item.ttl))])]),i("div",{staticClass:"price"},[i("div",[t._v("￥"+t._s(t.item.presentPrice))]),i("div",[t._v("￥"+t._s(t.item.originalPrice))]),i("div",{style:{background:t.item.label.color}},[t._v(t._s(t.item.label.ttl))])]),i("div",{staticClass:"state"},[i("div",[t._v("销量 "+t._s(t.item.sales))]),i("div",[t._v("收藏 "+t._s(t.item.favor)+"人")]),i("div",[t._v(t._s(t.item.deliveryTime)+"小时发货")])]),i("div",{staticClass:"service"},t._l(t.item.services,(function(e,s){return i("div",{key:s},[i("span",{staticClass:"iconfont icon-a-"},[t._v(t._s(e))])])})),0)]):t._e()},$=[],x={name:"DetailTitle",props:{item:{type:Object,default:function(){return{}}}}},I=x,k=(i("7a19"),Object(m["a"])(I,w,$,!1,null,"4d7f8766",null)),T=k.exports,j=function(){var t=this,e=t.$createElement,i=t._self._c||e;return 0!=Object.keys(t.item).length?i("div",{staticClass:"detailShop"},[i("div",{staticClass:"logo"},[i("img",{attrs:{src:t.item.logo,alt:""}}),i("p",[t._v(t._s(t.item.name))])]),i("div",{staticClass:"info"},[i("div",{staticClass:"record"},t._l(t.item.record,(function(e,s){return i("div",{key:s},[i("p",[t._v(t._s(e.num))]),i("p",[t._v(t._s(e.ttl))])])})),0),i("div",{staticClass:"status"},t._l(t.item.status,(function(e,s){return i("div",{key:s},[i("span",[t._v(t._s(e.ttl))]),i("span",{class:t.color(e.isBetter)},[t._v(t._s(e.num))]),i("span",{staticClass:"iconfont",class:t.mark(e.isBetter)})])})),0)]),i("div",{staticClass:"link"},[i("a",{attrs:{href:t.item.link}},[t._v("进店逛逛")])])]):t._e()},O=[],D={name:"DetailShop",props:{item:{type:Object,default:function(){return{}}}},methods:{mark:function(t){switch(t){case 1:return{"icon-jiantou_xiangshang":!0};case 0:return{"icon-hengxian":!0};default:return{"icon-jiantou_xiangxia":!0}}},color:function(t){switch(t){case-1:return{red:!0};default:return{green:!0}}}}},S=D,B=(i("4f56"),Object(m["a"])(S,j,O,!1,null,"330d92ff",null)),P=B.exports,E=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("imgs-list",{ref:"imgsList",attrs:{list:t.list}},[i("div",{staticClass:"head",attrs:{slot:"head"},slot:"head"},[i("p",[i("span",{staticClass:"point"}),i("span",{staticClass:"line"})]),i("p",[t._v("相关图片")]),i("p",[i("span",{staticClass:"line"}),i("span",{staticClass:"point"})])])])},W=[],Y=function(){var t=this,e=t.$createElement,i=t._self._c||e;return 0!=t.list.length?i("div",{staticClass:"imgsList"},[t._t("head"),i("ul",t._l(t.list,(function(e,s){return i("li",{key:s},[i("img",{attrs:{src:e,alt:"pic"},on:{load:t.imgLoad}})])})),0),t._t("foot")],2):t._e()},A=[],R=(i("a9e3"),i("90b9")),H={name:"ImgsList",data:function(){return{bodyWidth:0}},props:{list:{type:Array,default:function(){return[]}},itemWidth:{type:Number,default:function(){return-1}}},computed:{adjustW:function(){return this.itemWidth>0?this.itemWidth:this.bodyWidth}},methods:{imgLoad:function(t){this.$bus.$emit("imgsListPicLoad"),t.target.width>this.bodyWidth&&Object(R["a"])(t.target,this.adjustW,this.adjustW)}},created:function(){this.bodyWidth=document.body.clientWidth}},N=H,U=Object(m["a"])(N,Y,A,!1,null,null,null),J=U.exports,q={name:"DetailImgsList",props:{list:{type:Array,default:function(){return[]}}},components:{ImgsList:J}},z=q,F=(i("df3a"),Object(m["a"])(z,E,W,!1,null,"54ffb29c",null)),G=F.exports,K=function(){var t=this,e=t.$createElement;t._self._c;return t._m(0)},M=[function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"detailParams"},[i("h3",[t._v("DetailParams")])])}],Q={name:"DetailParam"},V=Q,X=(i("e6e9"),Object(m["a"])(V,K,M,!1,null,"55b11ade",null)),Z=X.exports,tt=function(){var t=this,e=t.$createElement;t._self._c;return t._m(0)},et=[function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"detailComment"},[i("h3",[t._v("DetailComment")])])}],it={name:"DetailComment"},st=it,nt=(i("6119"),Object(m["a"])(st,tt,et,!1,null,"884db20c",null)),at=nt.exports,lt=function(){var t=this,e=t.$createElement;t._self._c;return t._m(0)},rt=[function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"detailRecommendation"},[i("h3",[t._v("recommendation")])])}],ot={name:"DetailRecommendation"},ct=ot,dt=(i("1f58"),Object(m["a"])(ct,lt,rt,!1,null,"cb06b3f0",null)),ut=dt.exports,ft=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"detailBottomBar"},[t._m(0),i("div",{staticClass:"bar bar-right"},[i("div",{staticClass:"cart",on:{click:t.addToCart}},[t._v("加入购物车")]),i("div",{staticClass:"buy"},[t._v("购买")])])])},mt=[function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"bar bar-left"},[i("div",[i("i",{staticClass:"img service"}),i("span",[t._v("客服")])]),i("div",[i("i",{staticClass:"img shop"}),i("span",[t._v("店铺")])]),i("div",[i("i",{staticClass:"img star"}),i("span",[t._v("收藏")])])])}],ht={name:"DetailBottomBar",methods:{addToCart:function(){this.$emit("addCart")}}},pt=ht,vt=(i("39fb"),Object(m["a"])(pt,ft,mt,!1,null,null,null)),_t=vt.exports;function gt(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}i("b0c0"),i("9911");var bt=i("916b"),yt=Object(bt["a"])({baseURL:"https://api.github.com",headers:{Accept:"application/json"},responseType:"json",timeout:5e3});function Ct(t){return yt({method:"get",url:"users/"+t})}var Lt=function t(e){gt(this,t),this.id=e.id,this.ttl=e.name,this.presentPrice=e.following,this.imgSrc=e.avatar_url},wt=function t(e){gt(this,t),this.ttl=e.name,this.presentPrice=e.following,this.originalPrice=e.followers,this.label={ttl:e.location,color:"#ff8198"},this.sales=e.public_repos,this.favor=e.public_gists,this.deliveryTime=72,this.services=["退货补运费","全国包邮","7天无条件退货"]},$t=function t(e){gt(this,t),this.logo=e.avatar_url,this.name=e.login,this.link=e.html_url,this.record=[{ttl:"总销量",num:e.followers},{ttl:"全部宝贝",num:e.following}],this.status=[{ttl:"描述相符",num:4.72,isBetter:1},{ttl:"发货速度",num:4.8,isBetter:0},{ttl:"质量满意",num:4.9,isBetter:-1}]},xt=i("c236"),It={name:"Detail",data:function(){return{detailTypeIndex:"0",list:[{index:"0",ttl:"商品",scrollY:0},{index:"1",ttl:"参数",scrollY:0},{index:"2",ttl:"评论",scrollY:0},{index:"3",ttl:"推荐",scrollY:0}],images:[],detailItemInfo:{},detailTitle:{},detailShop:{},detailImgs:[],imgsListPicLoadListener:null,imgsListOffsetTop:0,debouncedSetDetailTypeIndex:null}},props:{login:{type:String}},methods:{scrollTo:function(t){var e=this.list.filter((function(e){return e.index==t}))[0].scrollY;this.$refs.scroll.scrollTo(0,-e,0)},getInfoById:function(t){var e=this;Ct(t).then((function(t){e.detailItemInfo=new Lt(t.data),e.images.push(t.data.avatar_url),e.detailTitle=new wt(t.data),e.detailShop=new $t(t.data)})).catch((function(t){console.log(t)}))},searchUsers:function(t){var e=this;xt["a"](t,1).then((function(t){var i,s=t.data.items.map((function(t){return t.avatar_url}));(i=e.detailImgs).push.apply(i,Object(a["a"])(s))})).catch((function(t){console.log(t)}))},detailSwiperImgOnLoad:function(){this.imgsListOffsetTop=this.$refs.imgsList.$el.offsetTop-44},scrollPosition:function(t){this.showBackTop=t.y<-this.imgsListOffsetTop,this.debouncedSetDetailTypeIndex(t)},setPostion:function(){this.list[1].scrollY=this.$refs.params?this.$refs.params.$el.offsetTop-44:0,this.list[2].scrollY=this.$refs.comment?this.$refs.comment.$el.offsetTop-44:0,this.list[3].scrollY=this.$refs.recommendation?this.$refs.recommendation.$el.offsetTop-44:0},addCart:function(){var t=this;this.detailItemInfo.isChecked=!0,this.$store.dispatch("cart/toList",this.detailItemInfo).then((function(e){t.$toast.txtColor="#444",t.$toast.width=150,t.$toast.show(e)}))}},created:function(){var t=this;this.getInfoById(this.login),this.searchUsers(this.login.substr(0,3)),this.debouncedSetDetailTypeIndex=Object(R["b"])((function(e){for(var i=t.list.length,s=i;s>0;s--)if(-e.y>=t.list[s-1].scrollY){t.detailTypeIndex!=t.list[s-1].index&&(t.detailTypeIndex=t.list[s-1].index);break}}),300)},mounted:function(){var t=this,e=Object(R["b"])(this.$refs.scroll.refresh),i=Object(R["b"])(this.setPostion);this.imgsListPicLoadListener=function(){t.$refs.scroll&&e(),i()},this.$bus.$on("imgsListPicLoad",this.imgsListPicLoadListener)},beforeDestroy:function(){this.$bus.$off("imgsListPicLoad",this.imgsListPicLoadListener)},components:{Scroll:l["a"],DetailHeadBar:p,DetailSwiper:L,DetailTitle:T,DetailShop:P,DetailImgsList:G,DetailParams:Z,DetailComment:at,DetailRecommendation:ut,DetailBottomBar:_t},mixins:[c["a"]]},kt=It,Tt=(i("3670"),Object(m["a"])(kt,s,n,!1,null,"a81d09e8",null));e["default"]=Tt.exports},9911:function(t,e,i){"use strict";var s=i("23e7"),n=i("857a"),a=i("af03");s({target:"String",proto:!0,forced:a("link")},{link:function(t){return n(this,"a","href",t)}})},af03:function(t,e,i){var s=i("d039");t.exports=function(t){return s((function(){var e=""[t]('"');return e!==e.toLowerCase()||e.split('"').length>3}))}},dea7:function(t,e,i){},df3a:function(t,e,i){"use strict";i("4917")},e6e9:function(t,e,i){"use strict";i("6b73")}}]);
//# sourceMappingURL=chunk-d49d1c4a.3016c56a.js.map